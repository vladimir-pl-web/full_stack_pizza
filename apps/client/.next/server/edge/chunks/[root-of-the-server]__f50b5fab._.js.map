{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 21, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/apps/client/middleware.ts"],"sourcesContent":["import type { NextRequest } from 'next/server'\r\nimport { NextResponse } from 'next/server'\r\n\r\nconst PUBLIC_FILE = /\\.(.*)$/\r\nconst SUPPORTED_LOCALES = ['en', 'ru', 'lv', 'nl']\r\nconst DEFAULT_LOCALE = 'en'\r\n\r\nexport function middleware(request: NextRequest) {\r\n  const pathname = request.nextUrl.pathname\r\n\r\n  // Пропускаем статические файлы и API\r\n  if (pathname.startsWith('/_next') || pathname.startsWith('/api') || PUBLIC_FILE.test(pathname)) {\r\n    return\r\n  }\r\n\r\n  // Проверяем есть ли локаль в пути\r\n  const pathnameLocale = pathname.split('/')[1]\r\n\r\n  if (SUPPORTED_LOCALES.includes(pathnameLocale)) {\r\n    return\r\n  }\r\n\r\n  // Получаем локаль из cookie или ставим дефолт\r\n  const locale = request.cookies.get('NEXT_LOCALE')?.value || DEFAULT_LOCALE\r\n\r\n  // Перенаправляем на путь с локалью\r\n  return NextResponse.redirect(new URL(`/${locale}${pathname}`, request.url))\r\n}\r\n"],"names":[],"mappings":";;;AACA;AAAA;;AAEA,MAAM,cAAc;AACpB,MAAM,oBAAoB;IAAC;IAAM;IAAM;IAAM;CAAK;AAClD,MAAM,iBAAiB;AAEhB,SAAS,WAAW,OAAoB;IAC7C,MAAM,WAAW,QAAQ,OAAO,CAAC,QAAQ;IAEzC,qCAAqC;IACrC,IAAI,SAAS,UAAU,CAAC,aAAa,SAAS,UAAU,CAAC,WAAW,YAAY,IAAI,CAAC,WAAW;QAC9F;IACF;IAEA,kCAAkC;IAClC,MAAM,iBAAiB,SAAS,KAAK,CAAC,IAAI,CAAC,EAAE;IAE7C,IAAI,kBAAkB,QAAQ,CAAC,iBAAiB;QAC9C;IACF;IAEA,8CAA8C;IAC9C,MAAM,SAAS,QAAQ,OAAO,CAAC,GAAG,CAAC,gBAAgB,SAAS;IAE5D,mCAAmC;IACnC,OAAO,6LAAA,CAAA,eAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,CAAC,CAAC,EAAE,SAAS,UAAU,EAAE,QAAQ,GAAG;AAC3E"}}]
}